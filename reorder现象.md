reorder现象



Person *person = new Person();



正常按我们理解，是先在内存中分配一个空间，然后调用构造函数，然后返回地址。



但是在cpu的指令层面，有可能是分配好空间后，还没来得及调用构造函数，就返回了一个地址。



首先返回的这个地址肯定是容易出现问题的，因为该实例的状态还为创建完毕。



这在多线程中双检查锁时有可能会出现问题。



volatile  可以让cpu不优化此代码，严格按照我们预期的那三步执行。