# czh-通信协议

一.上位机 向device传输数据帧格式：

| 名称 | 同步字 |      帧长度       |      commandID       | data |
| :--: | :----: | :---------------: | :------------------: | :--: |
| 数值 |  0x57  | length（2个字节） | commandID（1个字节） | data |

命令类型由commandID决定，data根据命令类型进行填充。

- 0x01:向device获取数据 ，data为需要获取的数据。

  

  PS：data数据长度根据命令类型而改变。例命令类型为0x01时，data只能用一个字节。用1-8来编码数据类型，1表示mac地址，其它数据暂时还未定。0x01表示发送1号数据类型的数据过来，0x02

  表示发2号数据类型，0x03表示同时发1号和2号数据类型的数据过来。

  ```
  例：
  向device获取mac地址
  0x57 0x00 0x05  0x01  0x01
  ```

  
  
  二.device向上位机传输数据帧格式：

| 名称 | 同步字 |      帧长度       |      commandID       | data |
| :--: | :----: | :---------------: | :------------------: | :--: |
| 数值 |  0x57  | length（2个字节） | commandID（1个字节） | data |

1.命令响应格式

ID （来自 控制命令帧格式中的 commandID ）

data ：如果控制命令帧为获取device数据，则回传上位机所需数据。

```
例：
如接收到：
0x57 0x00 0x05 0x01 0x03

则返回
0x57 0x00 未定 0x01  data[0] mac地址  2号数据
```

mac地址6字节

